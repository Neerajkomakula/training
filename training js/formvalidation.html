<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />

  <title>Hello, world!</title>
  <style>
    #message{
      display: none;
    }
  </style>
</head>

<body>
  <div class="container my-5">
    <div class="row">
      <div class="col-md-6" style="border : 2px solid black">
        <div class=" col my-5">
          <div class="row ml-3">
            <h1>Welcome User</h1>
          </div>
          <div class="row my-3">
            <div class="col border p-3">
              <form id="formId">
                <div class="mb-3">
                  <label for="exampleInputEmail1" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" />
                  <div id="emailHelp" class="form-text">
                    We'll never share your email with anyone else.
                  </div>
                </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label">Password</label>
                  <input type="password" id="exampleInputPassword1" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                    required>
                </div>
                <div class="mb-3">
                  
                  <label for="confirmInputPassword1" class="form-label">Confirm-Password</label>
                  <input type="password" id="confirmInputPassword1" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                    required>
                  <div id="passHelp" class="form-text">

                  </div>
                  <div id="message">
                    <h3>Password must contain the following:</h3>
                    <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
                    <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
                    <p id="number" class="invalid">A <b>number</b></p>
                    <p id="length" class="invalid">Minimum <b>8 characters</b></p>
                  </div>
                </div>

                <div class="mb-3">
                  <label for="UserName" class="form-label">User Name</label>
                  <input type="text" class="form-control" id="UserName" />

                </div>
                <div class="mb-3">
                  <label for="flexRadioDefault" class="form-label">Gender</label>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                    <label class="form-check-label" for="flexRadioDefault1">
                      Male
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                    <label class="form-check-label" for="flexRadioDefault2">
                      Female
                    </label>
                  </div>

                </div>
                <div class="mb-3">
                  <label for="skills" class="form-label">Skills</label>
                  <div class="form-check">
                    <input class="form-check-input checkbox" type="checkbox" id="check1" name="option1"
                      value="something" checked>
                    <label class="form-check-label">Option 1</label>
                    <div></div>
                    <input class="form-check-input checkbox" type="checkbox" id="check2" name="option2"
                      value="something">
                    <label class="form-check-label">Option 2</label>
                    <div></div>
                    <input class="form-check-input checkbox" type="checkbox" id="check3" name="option3"
                      value="something">
                    <label class="form-check-label">Option 3</label>
                  </div>


                  <div class="my-2" style=" display: flex; justify-content: center;">
                    <button class="btn btn-primary" onclick="check()">Submit</button>
                  </div>

              </form>
            </div>
          </div>
        </div>
      </div>

    </div>
    <div class="col-md-6 p-5" style="border : 2px solid black">
      <div class="row data" id="emaild"></div>
      <div class="row data" id="usernamed"></div>
      <div class="row data" id="genderd"></div>
      <div class="row data" id="skillsd"></div>
    </div>

  </div>


  <script>
    const person = {};
    var form = document.getElementById("formId");
    function submitForm(event) { //here event is 'submit'

      //Preventing page refresh
      event.preventDefault();
    }

    //Calling a function during form submission.
    form.addEventListener('submit', submitForm); // when you click on submit event the corresponding callback fun is executed
    function check() {

      emailV();
      passV();
    }
    function emailV() {

      var email = document.getElementById("exampleInputEmail1").value;
      email = String(email);
      var start = email.indexOf('@');

      var substr = email.substring(start + 1, email.length);
      var string1 = "darwinbox.in";
      const result = substr.toUpperCase() === string1.toUpperCase();
      console.log(substr);
      if (!result) {
        var obj = document.getElementById('emailHelp');
        obj.style = "color:red"
        obj.innerText = "wrong email";
      }
      else {
        person.email = email;
      }
    }

    function passV() {
      // var p1 = document.getElementById('exampleInputPassword1').value;
      // var p2 = document.getElementById('confirmInputPassword1').value;
      // p1 = String(p1);
      // p2 = String(p2);
      // const result = p1.toUpperCase() === p2.toUpperCase();
      // if (!result) {
      //   document.getElementById('passHelp').style = "color : red";
      //   document.getElementById('passHelp').innerText = 'passwords doesnt match ';

      var myInput = document.getElementById("exampleInputPassword1");
      var myInput2 = document.getElementById("confirmInputPassword1");
var letter = document.getElementById("letter");
var capital = document.getElementById("capital");
var number = document.getElementById("number");
var length = document.getElementById("length");

// When the user clicks on the password field, show the message box
myInput.onfocus = function() {
  document.getElementById("message").style.display = "block";
}

// When the user clicks outside of the password field, hide the message box
myInput2.onblur = function() {
  document.getElementById("message").style.display = "none";
}

// When the user starts to type something inside the password field
myInput.onkeyup = function() {
  // Validate lowercase letters
  var lowerCaseLetters = /[a-z]/g;
  if(myInput.value.match(lowerCaseLetters)) {
    letter.classList.remove("invalid");
    letter.classList.add("valid");
  } else {
    letter.classList.remove("valid");
    letter.classList.add("invalid");
}

  // Validate capital letters
  var upperCaseLetters = /[A-Z]/g;
  if(myInput.value.match(upperCaseLetters)) {
    capital.classList.remove("invalid");
    capital.classList.add("valid");
  } else {
    capital.classList.remove("valid");
    capital.classList.add("invalid");
  }

  // Validate numbers
  var numbers = /[0-9]/g;
  if(myInput.value.match(numbers)) {
    number.classList.remove("invalid");
    number.classList.add("valid");
  } else {
    number.classList.remove("valid");
    number.classList.add("invalid");
  }

  // Validate length
  if(myInput.value.length >= 8) {
    length.classList.remove("invalid");
    length.classList.add("valid");
  } else {
    length.classList.remove("valid");
    length.classList.add("invalid");
  }
}
      }

      person.username = document.getElementById('UserName').value;

      //gender verification
      var gender = document.getElementsByName('flexRadioDefault');

      if (gender[0].checked) {
        person.gender = 'male'
      }
      else {
        person.gender = 'female'
      }

      //checkboxes
      var options = "";
      var checkboxes = document.getElementsByClassName('checkbox');
      for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
          options = options + i + ' ';
        }
      }
      person.skills = options;


      //displaying data in the 2nd container
      var d = document.getElementsByClassName('data');

      for (var i = 0; i < d.length; i++) {

        d[i].innerText = Object.values(person)[i]; //getting  value using object index
      }





    
  </script>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
</body>

</html>